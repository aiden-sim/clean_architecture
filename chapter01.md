# 1부 소개
- 프로그램을 동작시키는 일과 제대로 만드는 일은 전혀 다르다.
- 소프트웨어를 올바르게 만들려면 무엇보다 기술을 향한 열정과 전문가가 되려는 열망이 필수다.
- 제대로 된 소프트웨어를 만들면 아주 적은 인력만으로도 새로운 기능을 추가하거나 유지보수할 수 있다.
  - 변경은 단순해지고 빠르게 반영할 수 있다.
  - 결함은 적어지고 잦아든다.
  - 최소한의 노력으로 기능과 유연성을 최대화할 수 있다.

# 1장) 설계와 아키텍처란?
- 서 론
  - 설계와 아키텍처 둘 사이에는 차이가 없다. (아래의 구분은 무의미하다.)
    - 아키텍처는 저수준의 세부사항과는 분리된 고수준의 무언가를 가리킬 때 흔히 사용된다.
    - 설계는 저수준의 구조 또는 결정사항 등을 의미할 때가 많다.

  - 소프트웨어 설계도 저수준의 세부사항과 고수준의 구조는 모두 소프트웨어 전체 설계의 구성요소다.
    - 이 둘은 이어져 있고, 이를 통해 대상 시스템의 구조를 정의한다.
    - 개별로는 존재할 수 없고, 실제로 이 둘을 구분 짓는 경계는 뚜렷하지 않다.
    - *고수준에서 저수준으로 향하는 의사결정의 연속성만 있을 뿐이다.*

- 목표는?
  - 소프트웨어 아키텍처의 목표는 필요한 시스템을 만들고 유지보수하는데 투입되는 인력을 최소화하는데 있다.
  - 새로운 기능을 출시할 때마다 비용이 증가한다면 나쁜 설계다.

- 사례 연구 (P7 ~)
  - 매번 새로운 기능을 출시할 때마다 개발자의 수는 지속적으로 증가했지만, 코드 생산성은 마치 한 곳으로 수렴하는 것처럼 보인다.
  - 코드 한 라인당 비용은 점점 증가하는 그래프를 보여준다.
  - 이러한 비용 곡선은 사업 모델의 수익을 엄청나게 고갈시키며, 회사의 성장을 멈추게 할것이다.
  
  - **엉망진창이 되어 가는 신호**
    - 개발자의 노력은 기능 개발보다는 엉망이 된 상황에 대처하는 데 소모되기 시작한다.
    - 개발자들이 쏟은 노력의 가치가 결국 보잘것없게 된다.
  
  - **경영자의 시각**
    - 초기 출시에는 매월 수십만 달러의 비용으로 많은 기능을 탑재할 수 있었다.
    - 하지만 마지막 출시에는 2천만 달러를 들이고도 얻은게 거의 없다.
    
  - **무엇이 잘못되었나?**
    - 토끼와 거북이의 예를 든다.
      - 토끼는 타고난 빠르기를 과신한 나머지 경주 중 낮잠을 자버리고, 그 사이 거북이는 결승선을 통과한다.
    - 개발자들도 토끼와 유사한 과신을 드러낸다.
      - 훌륭하고 깔끔하게 잘 설계된 코드가 중요하다는 사실을 알고 있는 바로 그 뇌가 잠자고 있다.
      - '코드는 나중에 정리하면 돼. 당장은 시장에 출시하는게 먼저야!' 라는 흔해 빠진 거짓말에 속는다.
        - 나중에 코드를 정리할 시간이 없다... 시장의 압박은 절대로 수그러들지 않기 때문에...
    - 토끼가 자신의 빠르기를 과신한 것과 마찬가지로, 개발자도 생산성을 유지할 수 있다고 자신의 능력을 과신한다.
    - 개발자가 속는 더 잘못된 거짓말은 '지저분한 코드를 작성하면 단기간에는 빠르게 갈 수 있고, 장기적으로 볼 때만 생산성이 낮아진다'는 견해다.
      - 엉망으로 만들면 깔끔하게 유지할 때보다 항상 더 느리다/ 시간 척도를 어떻게 보든지 관계없이 말이다.
    - **빨리 가는 유일한 방법은 제대로 가는 것이다.**
    - **자신을 과신한다면 재설계하더라도 원래의 프로젝트와 똑같이 엉망으로 내몰린다.**
    
- 결 론
  - 개발 조직이 할 수 있는 최고의 선택지는 조직에 스며든 과신을 인지하여 방지하고, 소프트웨어 아키텍처의 품질을 심각하게 고민하기 시작하는 것이다.
  - 소프트웨어 아키텍처를 심각하게 고려할 수 있으려면 좋은 소프트웨어 아키텍처가 무엇인지 이해해야 한다.
    - 비용은 최소화하고 생산성은 최대화할 수 있는 설계와 아키텍처를 가진 시스템을 만들려면, 시스템 아키텍처가 지닌 속성을 알고 있어야 한다.
  
  
# 2장) 두 가지 가치에 대한 이야기
- 서 론
  - 모든 소프트웨어 시스템은 이해관계자에게 서로 다른 두 가지 가치를 제공하는데, 행위(behavior)와 구조(structure)가 그것이다.
    - 대체로 개발자가 둘 중 덜 중요한 가치에 집중하여 소프트웨어 시스템이 쓸모없게 된다는 사실이다.
    
- 행 위
  - 프로그래머를 고용하는 이유는 이해관계자를 위해 기계가 수익을 창출하거나 비용을 절약하도록 만들기 위해서다.
    - 이를 위해 프로그래머는 이해관계자가 기능 명세서나 요구사항 문서를 구체화할 수 있도록 돕는다.
    - 이해관계자의 기계가 이런 요구사항을 만족하도록 코드를 작성한다.
  - 기계가 이러한 요구사항을 위반하면, 프로그래머는 디버거를 열고 문제를 고친다.
  - **많은 프로그래머가 위의 활동이 자신이 해야 할 일의 전부라고 생각하지만 틀렸다.**
  
- 아키텍처
  - 소프트웨어를 만든 이유는 기계의 행위를 **쉽게 변경할 수 있도록** 하기 위해서다.
    - 만약 어렵게 만들고자 했다면, 하드웨어라고 불렀을 것이다.
  - 변경사항을 적용하는데 드는 어려움은 변경되는 범위(scope)에 비례해야 하며, 변경사항의 형태(shape)는 관련이 없어야 한다.
  - 소프트웨어 개발 비용의 증가를 결정짓는 주된 요인은 바로 이 변경사항의 범위와 형태의 차이에 있다.
  - 개발 첫 해가 다음 해보다 비용이 덜 들고, 다음 해에는 그 다음 해보다 비용이 적게 든다.
    - 이해관계자는 범위가 비슷한 변경사항을 제시하지만, 개바자는 복잡도가 지속적으로 증가하는 퍼즐 판위에서 퍼즐 조각을 맞추는것 처럼 느껴진다.
  - 아키텍처는 형태에 독립적이어야 하고, 그럴수록 더 실용적이다.
  
- 더 높은 가치
  - 기능인가 아니면 아키텍처인가?
  - 소프트웨어 시스템이 동작하도록 만드는 것이 더 중요한가? 아니면 **더 쉽게 변경할 수 있도록 하는 것이 더 중요한가?**
    - 업무 관리자에게 묻는다면 동작이 더 중요하다고 대답할 것이다.
    - 개발자에게 묻는다면 대체로 업무 관리자 의견에 동조하는 태도를 취하겠지만 이는 잘못된 태도다.
  - 결론 : 기능보다 더 쉽게 변경할 수 있는 것이 중요하다.
  
- 아이젠하워 매트릭스
  - 긴급한 문제가 아주 중요한 문제일 경우는 드물고, 중요한 문제가 몹시 긴급한 경우는 거의 없다는 사실이다.
    - 소프트웨어 첫번째 가치인 행위는 긴급하지만 매번 높은 중요도를 가지는 것은 아니다.
    - 소프트웨어 두번째 가치인 아키텍처는 중요하지만 즉각적인 긴급성을 필요로 하는 경우는 절대 없다.
  - 우선순위
    - 1) 긴급하고 중요한
    - 2) 긴급하지는 않지만 중요한
    - 3) 긴급하지만 중요하지 않은
    - 4) 긴급하지도 중요하지도 않은
      - 아키텍처는 이 항목의 가장 높은 두 순위를 차지하는 반면, 행위는 첫번째와 세 번째 위치한다.
      - 개발자의 실수는 세 번째 항목을 첫 번째로 격상시켜 버리는 것이다.
      - 이런 실패로 시스템에서 중요도가 높은 아키텍처를 무시한 채 중요도가 떨어지는 기능을 선택하게 된다.
      
- 아키텍처를 위해 투쟁하라
  - 개발팀은 회사에서 가장 중요하다고 스스로 믿는 가치를 위해 투쟁하고, 관리팀도 자신만의 가치를 위해 투쟁하며, 마케팅팀, 영업팀, 운영팀 또한 마찬가지다.
  - 개발자는 당신의 소프트웨어를 안전하게 보호해야 할 책임이 있으므로 당신 역시도 이해관계가 있다.
  - 아키텍트는 기능보다는 시스템의 구조에 더 중점을 둔다.
    - 아키텍트는 이러한 특성과 기능을 개발하기 쉽고, 간편하게 수정할 수 있으며, 확장하기 쉬운 아키텍처를 만들어야 한다.
  - **아키텍처가 후순위가 되면 시스템을 개발하는 비용이 더 많이 들고, 일부 또는 전체 시스템에 변경을 가하는 일이 현실적으로 불가능해진다.**
